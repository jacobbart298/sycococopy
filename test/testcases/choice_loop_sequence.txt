roles:
    A
    B
    C
    D

protocol:
    loop l:
        sequence:
            choice:
                sequence:
                    send t1 from A to B
                    send t1 from A to C
                sequence:
                    send t1 from A to B
                    send t2 from A to C
            choice:
                sequence:
                    send t4 from C to B
                    repeat l
                sequence:
                    send t3 from B to D
                    send t4 from C to D